title:Running On Windows
parent:Installation
sequence:200
aliases:windows

<p><b>Revised:</b> Feb 28, 2009.  
                  
<h2>Preview Of Installation</h2>

<p>Getting Andromeda running on Windows is quite easy.  Here is a basic
   outline of what needs to be done:
</p>

<ul><li><b>Install Packages</b>
 
    <ul><li>Install the XAMPP package (Apache and PHP)
        <li>Install Postgres
        <li>Install Perl
    </ul>

    <li><b>Configure Packages</b>
    
    <ul><li>Configure PHP
        <li>Configure Postgres
    </ul>

    <li><b>Install Andromeda</b>
  
    <ul><li>Download Andromeda and unzip it
        <li>Run some commands 
        <li>Run Andromeda for first time, create super-user
    </ul>
</ul>

<h2>Install Packages</h2>

<h3>Install XAMPP</h3>

<p>First we are going to install the XAMPP package, which gives us
   Apache and PHP all set up and ready to go.  The download page
   is at <a target="_blank" href=
   "http://www.apachefriends.org/en/xampp-windows.html"
   >http://www.apachefriends.org/en/xampp-windows.html</a>.
   There are many downloads available on that page, the one
   want is simply called "XAMPP".  As of this writing, the
   latest version 1.7.0.
</p>

<p>When the install begins, you will be given a configuration
   screen.  Be sure to check "Install Apache as a Service",
   as depicted here:
</p>

[[image:win-inst-xampp1.png]]

<p>At the end of the install, Windows firewall may pop up and
   tell you it is blocking Apache.  Tell it to unblock it.
</p>

<h3>Install Perl</h3>

<p>Now we are going to install the Perl language, which is 
   required for a few of Andromeda's advanced database
   features.  The download page for version 5.10 is at
   <a target="_blank"
    href="http://downloads.activestate.com/ActivePerl/Windows/5.10/"
   >http://downloads.activestate.com/ActivePerl/Windows/5.10/</a>.
   Scroll to the bottom of the page and find the latest
   version.  The easiest way to install is to just download
   the latest ".msi" file and then click on it once it is
   downloaded.
</p>

<p>There are no choices or configuration options for Perl,
   just accept the prompts and let it run.
</p>

<h3>Install Postgres</h3>

<p>PostgreSQL (or just Postgres) is an open source database
   system with features on par with many commercial 
   database systems.  The download page is at <a target="_blank" href=
   "http://www.enterprisedb.com/products/pgdownload.do#windows"
   >http://www.enterprisedb.com/products/pgdownload.do#windows</a>.
</p>

<p>During the install, you will be prompted for a password
   for the postgres service account.  This is the all-powerful
   password for database access, choose it as you would any
   top-level admin password.  We do not need any other options
   during this install.
</p>

[[image:win-inst-pg-1.png]]

<h2>Configure Packages</h2>

<p>Now we are ready to configure the packages.  This is as
   easy as editing a few files and restarting some services.
</p>

<h3>Configure PHP</h3>

<p>Our first task is to edit the PHP ini file, which will be
   at <a href="file:///c:\xampp\apache\bin\php.ini"
   >c:\xampp\apache\bin\php.ini</a> (or perhaps
   on another drive).  Make the following setting changes:
</p>

<ul><li><b>max_execution_time</b>: kick up to 300 seconds.
    <li><b>memory_limit</b>: expand to at least 64MB. This is
    required when your databases get very complex.  Without
    this setting, PHP will simply stop during a database
    build but give you no error message!
    <li><b>extension = php_pgsql.dll</b>: uncomment this line
    <li><b>variables_order</b>: should be "EGPCS".
</ul>

<p>Once you have made these changes, restart the Apache web 
   server by using the XAMPP control panel:
</p>

[[image:win-inst-php-1.png]]

<p>Bring up the control panel, Apache should be the first
   service listed.  Click [STOP], wait a moment, and click
   [START].
</p>

<h3>Configure Postgres</h3>

<p>We have one configuration file we must edit for Postgres.
   Open the file <a href=
   "file:///C:\Program Files\PostgreSQL\8.3.\data\pg_hba"
   >C:\Program Files\PostgreSQL\8.3.\data\pg_hba</a>
   and put these lines before any of the others:
</p>

<pre class="pretty-print">#  DEV SERVER ONLY, do not put this line in on a
#  production server.
host  all         postgres    127.0.0.1/32     trust 

# Users in pg group "root" can connect to anything
host   all         +root      127.0.0.1/32     password

# Members of the anonymous role can login
host   samename    all        127.0.0.1/32     password
host   samegroup   all        127.0.0.1/32     password
</pre>

<p>Now stop and restart the PostgreSQL service:
</p>

[[image:win-inst-pg-2.png]]


<h2>Install Andromeda</h2>

<p>First download Andromeda from Sourceforge at <a 
   href="http://sourceforge.net/project/showfiles.php?group_id=188856"
   >http://sourceforge.net/project/showfiles.php?group_id=188856</a>.
   Look for the "andro-win" package and download the zip.
</p>

<p>Move the Andromeda zip file into C:\XAMPP\htdocs and unzip
   it there.  You will then see a new folder, c:\XAMPP\htdocs\andro_root
</p>

<p>Using a command prompt, enter these commands:
</p>

<pre class="DOS">
CD c:\program files\postgresql\8.3\bin
createdb -U postgres andro
pg_restore -U postgres -d andro &lt; c:\xampp\htdocs\andro_root\andro\files\andro.sql
</pre>
 
<h2>Run Andromeda!</h2>

<p>Now point your browser to: <a href="http://localhost/andro_root/andro"
   >http://localhost/andro_root/andro</p>.
</p>

<p>Follow the prompts to create a super-user, and then begin reviewing
   [[Database Programming]] and [[Web Programming]].
</p>

