title:inputs
parent:json
sequence:2673
aliases:


<h2>NAME</h2>
<p>x6.json.inputs<br/></p>
<h2>FUNCTION</h2>
<p>The Javascript method x6.json.inputs adds inputs to
   a JSON call previously initiated with x6.json.init.<br/></p>
<p>This method accepts an object as its parameter, and
   will add every input that is a child (at any level)
   of that object.<br/></p>
<p>This method uses the "id" property of the input to
   name the parameter, not the "name" property.  Andromeda
   makes no use of the "name" property.<br/></p>
<p>This method is equivalent to use x6.json.addParm
   for each of the desired inputs.<br/></p>
<p>Checkboxes receive special treatment.  If the box is
   checked a value of 'Y' is sent, and if the box is not
   checked a value of 'N' is sent.<br/></p>
<p>The name of each parameter is normally the Id of the
   input.  If the inputs were generated by Andromeda
   on an Extended-Desktop page, they will have the names
   'x4inp_<tableId>_<columnId>.<br/></p>
<h2>INPUTS</h2>
<p>object - optional, the object to recurse.  You must
   pass the object itself, not its Id.  If no object is
   passed the Extended-Desktop top-level object x4Top
   is used, which means you get every input on the page,
   whether or not it is visible or<br/></p>
<p>direct - a special flag that says to name the parameters
   'x4c_<columnId>'.  This is required when you are sending
   Direct-Database-Access calls.<br/></p>
<h2>SOURCE</h2>
<pre class='prettyprint'>
this.inputs= function(obj,direct) {
    if(direct==null) direct=false;
    if(obj==null) {
        obj = $a.byId('x4Top');
    }
    if(typeof(obj)=='string') {
        var jqObjects = $(obj);
    }
    else {
        var jqObjects = $(obj).find(":input");
    }
    jqObjects.each( function() {
            if(direct) 
                var id = 'x4c_'+x6.p(this,'xColumnId');
            else
                var id = this.id;
                
            
            if(this.type=='checkbox') {
                if(this.checked) {
                    x6.json.addParm(id,'Y');
                }
                else {
                    x6.json.addParm(id,'N');
                }
            }
            else {
                if($(this).prop('value')!='') {
                    x6.json.addParm(id,$(this).prop('value'));
                }
            }
    });
}</pre>