<h1>Complex HTML Without HTML</h1>

<p>So now we know how to make a simple page, and how to make it 
   public or make it a private menu entry.  From this point forward
   many examples will involve more complex HTML.  Because so 
   many programmers
   intensely dislike mixing PHP and HTML, Andromeda has classes
   and routines that allow very complex HTML constructions without
   ever actually coding any HTML.  We will see those now.
</p>

<span class="info">Andromeda does not require you to use the
  Andromeda HTML generation classes.  You can write 
  any mix of PHP, HTML, and even CSS and Javascript that meets
  your own style.
</span>

<h2>The Basic Example</h2>

<p>Andromeda's HTML generation routine allow you to create
   PHP objects that represent HTML nodes.  You can set their
   innerHTML, set properties (including event code), and nest
   nodes inside of other nodes to any depth that system
   resources allow.  Then at the end you "render" the top node
   and it spits out a huge string of formatted html.
</p>

<pre><span class="syntax0"><span class="syntax17">&lt;?php</span>
<span class="syntax8">class</span><span class="syntax8"> </span><span class="syntax11">x6helloworld</span><span class="syntax11"> </span><span class="syntax8">extends</span><span class="syntax11"> </span><span class="syntax11">androX6</span><span class="syntax11"> </span><span class="syntax18">{</span>
    <span class="syntax8">function</span> <span class="syntax6">x6main</span><span class="syntax18">(</span><span class="syntax18">)</span> <span class="syntax18">{</span>
        <span class="syntax10">$top</span> <span class="syntax18">=</span> <span class="syntax17">html</span><span class="syntax18">(</span><span class="syntax13">'</span><span class="syntax13">div</span><span class="syntax13">'</span><span class="syntax18">)</span><span class="syntax18">;</span>
        <span class="syntax11">$top</span><span class="syntax6">-&gt;h</span><span class="syntax18">(</span><span class="syntax13">'</span><span class="syntax13">h1</span><span class="syntax13">'</span><span class="syntax18">,</span><span class="syntax13">'</span><span class="syntax13">Hello</span><span class="syntax13"> </span><span class="syntax13">World</span><span class="syntax13"> </span><span class="syntax13">2.0</span><span class="syntax13">'</span><span class="syntax18">)</span><span class="syntax18">;</span>
        <span class="syntax11">$top</span><span class="syntax6">-&gt;h</span><span class="syntax18">(</span><span class="syntax13">'</span><span class="syntax13">p</span><span class="syntax13">'</span><span class="syntax18">,</span><span class="syntax13">'</span><span class="syntax13">The</span><span class="syntax13"> </span><span class="syntax13">new</span><span class="syntax13"> </span><span class="syntax13">version</span><span class="syntax13"> </span><span class="syntax13">of</span><span class="syntax13"> </span><span class="syntax13">Hello</span><span class="syntax13"> </span><span class="syntax13">World</span><span class="syntax13"> </span><span class="syntax13">now</span><span class="syntax13"> </span><span class="syntax13">has</span><span class="syntax13"> </span><span class="syntax13">text!</span><span class="syntax13">'</span><span class="syntax18">)</span><span class="syntax18">;</span>
        
        <span class="syntax11">$top</span><span class="syntax6">-&gt;render</span><span class="syntax18">(</span><span class="syntax18">)</span><span class="syntax18">;</span>
    <span class="syntax18">}</span>
<span class="syntax18">}</span>
<span class="syntax17">?&gt;</span>
</span></pre>

<p>This bit of code will send the following HTML to the browser:
</p>

<pre><span class="syntax0"><span class="syntax17">&lt;div</span><span class="syntax17">&gt;</span>
<span class="syntax17">&lt;h1</span><span class="syntax17">&gt;</span>Hello World 2.0
<span class="syntax17">&lt;p</span><span class="syntax17">&gt;</span>The new version of Hello World now has text!<span class="syntax17">&lt;/p</span><span class="syntax17">&gt;</span>
<span class="syntax17">&lt;/div</span><span class="syntax17">&gt;</span>
</span></pre>

<p>Most HTML involves nesting of nodes, so convention is to
   always start out by creating an element called $top, which is
   usually a DIV but can really be anything.  The first line
   creates a new empty HTML DIV element:
</p>

<pre>$top = html('div');</pre>

<p>The next line puts an H1 element inside the DIV.  It does this
   by calling the "h" method.  The "h" method says, "give me a new
   HTML node and make it a child of this one."  The first
   parameter names the HTML element, and the second (optional)
   parameter specifies the innerHTML.
</p>

<p>The final line recurses the object tree and generates HTML
   as it goes, echoing it directly to output.  Remember that you
   do not have to worry about output buffering, Andromeda takes
   care of that for you.
</p>

<span class="info">Andromeda's documentation conventions are to
   represent (x)html elements in UPPER CASE (like DIV, TABLE) in
   the documentation.  This is only for readability, in actual
   code the examples use XHTML lower-case names (like div, table).
</span>

<h2>Capturing (Buffering) The Rendered HTML</h2>

<p>If you need for any reason to capture the generated HTML,
   you can use the "bufferedRender()" routine instead of
   "render()".  The "bufferedRender()" routine returns the
   generated HTML instead of echoing it to the screen.
</p>

<pre><span class="syntax0"><span class="syntax17">&lt;?php</span>
<span class="syntax8">class</span><span class="syntax8"> </span><span class="syntax11">x6helloworld</span><span class="syntax11"> </span><span class="syntax8">extends</span><span class="syntax11"> </span><span class="syntax11">androX6</span><span class="syntax11"> </span><span class="syntax18">{</span>
    <span class="syntax8">function</span> <span class="syntax6">x6main</span><span class="syntax18">(</span><span class="syntax18">)</span> <span class="syntax18">{</span>
        <span class="syntax10">$top</span> <span class="syntax18">=</span> <span class="syntax17">html</span><span class="syntax18">(</span><span class="syntax13">'</span><span class="syntax13">div</span><span class="syntax13">'</span><span class="syntax18">)</span><span class="syntax18">;</span>
        <span class="syntax11">$top</span><span class="syntax6">-&gt;h</span><span class="syntax18">(</span><span class="syntax13">'</span><span class="syntax13">h1</span><span class="syntax13">'</span><span class="syntax18">,</span><span class="syntax13">'</span><span class="syntax13">Hello</span><span class="syntax13"> </span><span class="syntax13">World,</span><span class="syntax13"> </span><span class="syntax13">Buffered</span><span class="syntax13">'</span><span class="syntax18">)</span><span class="syntax18">;</span>
        <span class="syntax11">$top</span><span class="syntax6">-&gt;h</span><span class="syntax18">(</span><span class="syntax13">'</span><span class="syntax13">p</span><span class="syntax13">'</span><span class="syntax18">,</span><span class="syntax13">'</span><span class="syntax13">Capturing</span><span class="syntax13"> </span><span class="syntax13">the</span><span class="syntax13"> </span><span class="syntax13">output,</span><span class="syntax13"> </span><span class="syntax13">now</span><span class="syntax13"> </span><span class="syntax13">on</span><span class="syntax13"> </span><span class="syntax13">a</span><span class="syntax13"> </span><span class="syntax13">page</span><span class="syntax13"> </span><span class="syntax13">near</span><span class="syntax13"> </span><span class="syntax13">you</span><span class="syntax13">'</span><span class="syntax18">)</span><span class="syntax18">;</span>
        
        <span class="syntax10">$html</span> <span class="syntax18">=</span> <span class="syntax11">$top</span><span class="syntax6">-&gt;bufferedRender</span><span class="syntax18">(</span><span class="syntax18">)</span><span class="syntax18">;</span>
        <span class="syntax8">echo</span> <span class="syntax10">$html</span><span class="syntax18">;</span>    
    <span class="syntax18">}</span>
<span class="syntax18">}</span>
<span class="syntax17">?&gt;</span>
</span></pre>

<h2>Some Variations</h2>

<p>The h() method returns a reference to the created child node,
   so that you can further manipulate the node.  The setHtml() 
   method allows you set the HTML on the object if for any reason
   you do not do so when it is created.  The code below shows 
   several examples of how to create child nodes and set HTML.
</p>

<pre><span class="syntax0"><span class="syntax17">&lt;?php</span>
<span class="syntax8">class</span><span class="syntax8"> </span><span class="syntax11">x6h1example</span><span class="syntax11"> </span><span class="syntax8">extends</span><span class="syntax11"> </span><span class="syntax11">androX6</span><span class="syntax11"> </span><span class="syntax18">{</span>
    <span class="syntax8">function</span> <span class="syntax6">x6main</span><span class="syntax18">(</span><span class="syntax18">)</span> <span class="syntax18">{</span>
        <span class="syntax10">$top</span> <span class="syntax18">=</span> <span class="syntax17">html</span><span class="syntax18">(</span><span class="syntax13">'</span><span class="syntax13">div</span><span class="syntax13">'</span><span class="syntax18">)</span><span class="syntax18">;</span>
        
        <span class="syntax4">#</span><span class="syntax4"> </span><span class="syntax4">here</span><span class="syntax4"> </span><span class="syntax4">is</span><span class="syntax4"> </span><span class="syntax4">the</span><span class="syntax4"> </span><span class="syntax4">simplest</span><span class="syntax4"> </span><span class="syntax4">way</span><span class="syntax4"> </span><span class="syntax4">to</span><span class="syntax4"> </span><span class="syntax4">make</span><span class="syntax4"> </span><span class="syntax4">an</span><span class="syntax4"> </span><span class="syntax4">h1</span><span class="syntax4"> </span><span class="syntax4">inside</span><span class="syntax4"> </span><span class="syntax4">a</span><span class="syntax4"> </span><span class="syntax4">div.</span>
        <span class="syntax11">$top</span><span class="syntax6">-&gt;h</span><span class="syntax18">(</span><span class="syntax13">'</span><span class="syntax13">h1</span><span class="syntax13">'</span><span class="syntax18">,</span><span class="syntax13">'</span><span class="syntax13">This</span><span class="syntax13"> </span><span class="syntax13">is</span><span class="syntax13"> </span><span class="syntax13">the</span><span class="syntax13"> </span><span class="syntax13">H1</span><span class="syntax13"> </span><span class="syntax13">program</span><span class="syntax13">'</span><span class="syntax18">)</span><span class="syntax18">;</span>
        
        <span class="syntax4">#</span><span class="syntax4"> </span><span class="syntax4">Grab</span><span class="syntax4"> </span><span class="syntax4">the</span><span class="syntax4"> </span><span class="syntax4">returned</span><span class="syntax4"> </span><span class="syntax4">object</span><span class="syntax4"> </span><span class="syntax4">and</span><span class="syntax4"> </span><span class="syntax4">set</span><span class="syntax4"> </span><span class="syntax4">its</span><span class="syntax4"> </span><span class="syntax4">HTML</span>
        <span class="syntax10">$h1</span> <span class="syntax18">=</span> <span class="syntax11">$top</span><span class="syntax6">-&gt;h</span><span class="syntax18">(</span><span class="syntax13">'</span><span class="syntax13">h1</span><span class="syntax13">'</span><span class="syntax18">)</span><span class="syntax18">;</span>
        <span class="syntax11">$h1</span><span class="syntax6">-&gt;setHTML</span><span class="syntax18">(</span><span class="syntax13">'</span><span class="syntax13">Two</span><span class="syntax13"> </span><span class="syntax13">lines,</span><span class="syntax13"> </span><span class="syntax13">but</span><span class="syntax13"> </span><span class="syntax13">more</span><span class="syntax13"> </span><span class="syntax13">powerful</span><span class="syntax13">'</span><span class="syntax18">)</span><span class="syntax18">;</span>
        
        <span class="syntax4">#</span><span class="syntax4"> </span><span class="syntax4">Sometimes</span><span class="syntax4"> </span><span class="syntax4">you</span><span class="syntax4"> </span><span class="syntax4">need</span><span class="syntax4"> </span><span class="syntax4">to</span><span class="syntax4"> </span><span class="syntax4">create</span><span class="syntax4"> </span><span class="syntax4">a</span><span class="syntax4"> </span><span class="syntax4">child</span><span class="syntax4"> </span><span class="syntax4">element</span>
        <span class="syntax4">#</span><span class="syntax4"> </span><span class="syntax4">as</span><span class="syntax4"> </span><span class="syntax4">a</span><span class="syntax4"> </span><span class="syntax4">free-floating</span><span class="syntax4"> </span><span class="syntax4">object</span><span class="syntax4"> </span><span class="syntax4">and</span><span class="syntax4"> </span><span class="syntax4">add</span><span class="syntax4"> </span><span class="syntax4">it</span><span class="syntax4"> </span><span class="syntax4">to</span><span class="syntax4"> </span><span class="syntax4">its</span>
        <span class="syntax4">#</span><span class="syntax4"> </span><span class="syntax4">parent</span><span class="syntax4"> </span><span class="syntax4">later</span>
        <span class="syntax10">$h1</span> <span class="syntax18">=</span> <span class="syntax17">html</span><span class="syntax18">(</span><span class="syntax13">'</span><span class="syntax13">h1</span><span class="syntax13">'</span><span class="syntax18">)</span><span class="syntax18">;</span>
        <span class="syntax11">$h1</span><span class="syntax6">-&gt;setHTML</span><span class="syntax18">(</span><span class="syntax13">'</span><span class="syntax13">Three</span><span class="syntax13"> </span><span class="syntax13">lines,</span><span class="syntax13"> </span><span class="syntax13">more</span><span class="syntax13"> </span><span class="syntax13">powerful</span><span class="syntax13"> </span><span class="syntax13">still</span><span class="syntax13">'</span><span class="syntax18">)</span><span class="syntax18">;</span>
        <span class="syntax11">$top</span><span class="syntax6">-&gt;addChild</span><span class="syntax18">(</span><span class="syntax10">$h1</span><span class="syntax18">)</span><span class="syntax18">;</span>
    <span class="syntax18">}</span>
<span class="syntax18">}</span>
<span class="syntax17">?&gt;</span>
</span></pre>

<h2>Do Not Mix innerHTML and Child Nodes</h2>

<p>Andromeda's HTML generation objects do not intentionally
   support a node that has both innerHTML and child nodes,
   something that might look like this in HTML:
</p>

<pre><span class="syntax0"><span class="syntax17">&lt;div</span><span class="syntax17">&gt;</span>I am text that is innerHTML of the div.
  <span class="syntax17">&lt;p</span><span class="syntax17">&gt;</span>But I am in a paragraph?<span class="syntax17">&lt;/p</span><span class="syntax17">&gt;</span>
<span class="syntax17">&lt;/div</span><span class="syntax17">&gt;</span>
</span></pre>

<p>The Andromeda HTML generation objects will produce reliable
   consistent and predictable output if each object has either
   child nodes or innerHTML, but not both.
</p>

<h2>Deeper Nesting</h2>

<p>When you create something like an HTML TABLE, you need
   to nest objects rather deeply.  This is how it is done:
</p>

<pre><span class="syntax0"><span class="syntax17">&lt;?php</span>
<span class="syntax8">class</span><span class="syntax8"> </span><span class="syntax11">x6report</span><span class="syntax11"> </span><span class="syntax8">extends</span><span class="syntax11"> </span><span class="syntax11">androX6</span><span class="syntax11"> </span><span class="syntax18">{</span>
    <span class="syntax8">function</span> <span class="syntax6">x6main</span><span class="syntax18">(</span><span class="syntax18">)</span> <span class="syntax18">{</span>
        <span class="syntax10">$top</span> <span class="syntax18">=</span> <span class="syntax17">html</span><span class="syntax18">(</span><span class="syntax13">'</span><span class="syntax13">div</span><span class="syntax13">'</span><span class="syntax18">)</span><span class="syntax18">;</span>
        <span class="syntax11">$top</span><span class="syntax6">-&gt;h</span><span class="syntax18">(</span><span class="syntax13">'</span><span class="syntax13">h1</span><span class="syntax13">'</span><span class="syntax18">,</span><span class="syntax13">'</span><span class="syntax13">Financial</span><span class="syntax13"> </span><span class="syntax13">Table</span><span class="syntax13">'</span><span class="syntax18">)</span><span class="syntax18">;</span>
        
        <span class="syntax10">$table</span> <span class="syntax18">=</span> <span class="syntax11">$top</span><span class="syntax6">-&gt;h</span><span class="syntax18">(</span><span class="syntax13">'</span><span class="syntax13">table</span><span class="syntax13">'</span><span class="syntax18">)</span><span class="syntax18">;</span>
        <span class="syntax10">$thead</span> <span class="syntax18">=</span> <span class="syntax11">$table</span><span class="syntax6">-&gt;h</span><span class="syntax18">(</span><span class="syntax13">'</span><span class="syntax13">thead</span><span class="syntax13">'</span><span class="syntax18">)</span><span class="syntax18">;</span>
        <span class="syntax10">$tr</span>    <span class="syntax18">=</span> <span class="syntax11">$thead</span><span class="syntax6">-&gt;h</span><span class="syntax18">(</span><span class="syntax13">'</span><span class="syntax13">tr</span><span class="syntax13">'</span><span class="syntax18">)</span><span class="syntax18">;</span>
        <span class="syntax11">$tr</span><span class="syntax6">-&gt;h</span><span class="syntax18">(</span><span class="syntax13">'</span><span class="syntax13">th</span><span class="syntax13">'</span><span class="syntax18">,</span><span class="syntax13">'</span><span class="syntax13">Quarter</span><span class="syntax13">'</span><span class="syntax18">)</span><span class="syntax18">;</span>
        <span class="syntax11">$tr</span><span class="syntax6">-&gt;h</span><span class="syntax18">(</span><span class="syntax13">'</span><span class="syntax13">th</span><span class="syntax13">'</span><span class="syntax18">,</span><span class="syntax13">'</span><span class="syntax13">Product</span><span class="syntax13"> </span><span class="syntax13">Line</span><span class="syntax13">'</span><span class="syntax18">)</span><span class="syntax18">;</span>
        <span class="syntax11">$tr</span><span class="syntax6">-&gt;h</span><span class="syntax18">(</span><span class="syntax13">'</span><span class="syntax13">th</span><span class="syntax13">'</span><span class="syntax18">,</span><span class="syntax13">'</span><span class="syntax13">Receipts</span><span class="syntax13">'</span><span class="syntax18">)</span><span class="syntax18">;</span>
        <span class="syntax11">$tr</span><span class="syntax6">-&gt;h</span><span class="syntax18">(</span><span class="syntax13">'</span><span class="syntax13">th</span><span class="syntax13">'</span><span class="syntax18">,</span><span class="syntax13">'</span><span class="syntax13">Costs</span><span class="syntax13">'</span><span class="syntax18">)</span><span class="syntax18">;</span>
        <span class="syntax11">$tr</span><span class="syntax6">-&gt;h</span><span class="syntax18">(</span><span class="syntax13">'</span><span class="syntax13">th</span><span class="syntax13">'</span><span class="syntax18">,</span><span class="syntax13">'</span><span class="syntax13">Gross</span><span class="syntax13"> </span><span class="syntax13">Profit</span><span class="syntax13">'</span><span class="syntax18">)</span><span class="syntax18">;</span>
        
        <span class="syntax4">#</span><span class="syntax4"> </span>
        <span class="syntax4">#</span><span class="syntax4"> </span><span class="syntax4">...</span><span class="syntax4"> </span><span class="syntax4">and</span><span class="syntax4"> </span><span class="syntax4">so</span><span class="syntax4"> </span><span class="syntax4">on</span><span class="syntax4"> </span><span class="syntax4">for</span><span class="syntax4"> </span><span class="syntax4">tbody,</span><span class="syntax4"> </span><span class="syntax4">rows,</span><span class="syntax4"> </span><span class="syntax4">and</span><span class="syntax4"> </span><span class="syntax4">td's.</span>
        
        <span class="syntax11">$top</span><span class="syntax6">-&gt;render</span><span class="syntax18">(</span><span class="syntax18">)</span><span class="syntax18">;</span>
    <span class="syntax18">}</span>
<span class="syntax18">}</span>
<span class="syntax17">?&gt;</span>
</span></pre>

<h2>Classes, Attributes and Events</h2>

<p>You can add any number of CSS Classes to an element.
   To do so, you must capture the result of the h() call
   and then use the addClass() method.  You can set any
   HTML attribute by making direct assignments to a
   node's hp[] array.  By assigning to the hp['onclick']
   array index, you create an onclick event, which is 
   also possible for any other event.
</p>

<p>You can also make up non-standard attributes and send
   them out to the browser, then use jQuery or other tools
   to find nodes that have certain properties.  Andromeda
   makes use of this to assign vital stats to INPUT nodes
   so that browser-side code will know what to do with any
   particular INPUT node.
</p>
   
<pre><span class="syntax0"><span class="syntax17">&lt;?php</span>
<span class="syntax8">class</span><span class="syntax8"> </span><span class="syntax11">x6report</span><span class="syntax11"> </span><span class="syntax8">extends</span><span class="syntax11"> </span><span class="syntax11">androX6</span><span class="syntax11"> </span><span class="syntax18">{</span>
    <span class="syntax8">function</span> <span class="syntax6">x6main</span><span class="syntax18">(</span><span class="syntax18">)</span> <span class="syntax18">{</span>
        <span class="syntax10">$top</span> <span class="syntax18">=</span> <span class="syntax17">html</span><span class="syntax18">(</span><span class="syntax13">'</span><span class="syntax13">div</span><span class="syntax13">'</span><span class="syntax18">)</span><span class="syntax18">;</span>
        <span class="syntax11">$top</span><span class="syntax6">-&gt;h</span><span class="syntax18">(</span><span class="syntax13">'</span><span class="syntax13">h1</span><span class="syntax13">'</span><span class="syntax18">,</span><span class="syntax13">'</span><span class="syntax13">Financial</span><span class="syntax13"> </span><span class="syntax13">Table</span><span class="syntax13">'</span><span class="syntax18">)</span><span class="syntax18">;</span>
        
        <span class="syntax4">#</span><span class="syntax4"> </span><span class="syntax4">create</span><span class="syntax4"> </span><span class="syntax4">a</span><span class="syntax4"> </span><span class="syntax4">div</span><span class="syntax4"> </span><span class="syntax4">and</span><span class="syntax4"> </span><span class="syntax4">give</span><span class="syntax4"> </span><span class="syntax4">it</span><span class="syntax4"> </span><span class="syntax4">some</span><span class="syntax4"> </span><span class="syntax4">class</span>
        <span class="syntax10">$div</span> <span class="syntax18">=</span> <span class="syntax11">$top</span><span class="syntax6">-&gt;h</span><span class="syntax18">(</span><span class="syntax13">'</span><span class="syntax13">div</span><span class="syntax13">'</span><span class="syntax18">)</span><span class="syntax18">;</span>
        <span class="syntax11">$div</span><span class="syntax6">-&gt;addClass</span><span class="syntax18">(</span><span class="syntax13">'</span><span class="syntax13">fatborder</span><span class="syntax13">'</span><span class="syntax18">)</span><span class="syntax18">;</span>
        <span class="syntax11">$div</span><span class="syntax6">-&gt;addClass</span><span class="syntax18">(</span><span class="syntax13">'</span><span class="syntax13">selected</span><span class="syntax13">'</span><span class="syntax18">)</span><span class="syntax18">;</span>   <span class="syntax2">//</span><span class="syntax2"> </span><span class="syntax2">can</span><span class="syntax2"> </span><span class="syntax2">add</span><span class="syntax2"> </span><span class="syntax2">more</span><span class="syntax2"> </span><span class="syntax2">than</span><span class="syntax2"> </span><span class="syntax2">one</span>
        
        <span class="syntax4">#</span><span class="syntax4"> </span><span class="syntax4">this</span><span class="syntax4"> </span><span class="syntax4">would</span><span class="syntax4"> </span><span class="syntax4">have</span><span class="syntax4"> </span><span class="syntax4">done</span><span class="syntax4"> </span><span class="syntax4">the</span><span class="syntax4"> </span><span class="syntax4">same</span><span class="syntax4"> </span><span class="syntax4">thing</span><span class="syntax4"> </span><span class="syntax4">as</span><span class="syntax4"> </span>
        <span class="syntax4">#</span><span class="syntax4"> </span><span class="syntax4">the</span><span class="syntax4"> </span><span class="syntax4">above</span><span class="syntax4"> </span><span class="syntax4">two</span><span class="syntax4"> </span><span class="syntax4">lines</span>
        <span class="syntax11">$div</span><span class="syntax11">-&gt;hp</span><span class="syntax18">[</span><span class="syntax13">'</span><span class="syntax13">class</span><span class="syntax13">'</span><span class="syntax18">]</span> <span class="syntax18">=</span> <span class="syntax13">'</span><span class="syntax13">fatborder</span><span class="syntax13"> </span><span class="syntax13">selected</span><span class="syntax13">'</span><span class="syntax18">;</span>
        
        <span class="syntax4">#</span><span class="syntax4"> </span><span class="syntax4">create</span><span class="syntax4"> </span><span class="syntax4">a</span><span class="syntax4"> </span><span class="syntax4">div</span><span class="syntax4"> </span><span class="syntax4">in</span><span class="syntax4"> </span><span class="syntax4">a</span><span class="syntax4"> </span><span class="syntax4">div</span><span class="syntax4"> </span><span class="syntax4">and</span><span class="syntax4"> </span><span class="syntax4">set</span><span class="syntax4"> </span><span class="syntax4">some</span><span class="syntax4"> </span><span class="syntax4">attributes</span>
        <span class="syntax10">$divleft</span> <span class="syntax18">=</span> <span class="syntax11">$div</span><span class="syntax6">-&gt;h</span><span class="syntax18">(</span><span class="syntax13">'</span><span class="syntax13">div</span><span class="syntax13">'</span><span class="syntax18">)</span><span class="syntax18">;</span>
        <span class="syntax11">$divleft</span><span class="syntax11">-&gt;hp</span><span class="syntax18">[</span><span class="syntax13">'</span><span class="syntax13">style</span><span class="syntax13">'</span><span class="syntax18">]</span> <span class="syntax18">=</span> <span class="syntax13">'</span><span class="syntax13">float:left</span><span class="syntax13">'</span><span class="syntax18">;</span>
        <span class="syntax11">$divleft</span><span class="syntax11">-&gt;hp</span><span class="syntax18">[</span><span class="syntax13">'</span><span class="syntax13">onclick</span><span class="syntax13">'</span><span class="syntax18">]</span> <span class="syntax18">=</span> <span class="syntax14">&quot;</span><span class="syntax14">alert</span><span class="syntax14">(</span><span class="syntax14">'</span><span class="syntax14">You</span><span class="syntax14"> </span><span class="syntax14">clicked</span><span class="syntax14"> </span><span class="syntax14">me</span><span class="syntax14">!</span><span class="syntax14">'</span><span class="syntax14">)</span><span class="syntax14">&quot;</span><span class="syntax18">;</span>
        <span class="syntax11">$divleft</span><span class="syntax6">-&gt;setHtml</span><span class="syntax18">(</span> <span class="syntax6">foo</span><span class="syntax18">(</span><span class="syntax18">)</span> <span class="syntax18">)</span><span class="syntax18">;</span>  <span class="syntax2">//</span><span class="syntax2"> </span><span class="syntax2">get</span><span class="syntax2"> </span><span class="syntax2">the</span><span class="syntax2"> </span><span class="syntax2">HTML</span><span class="syntax2"> </span><span class="syntax2">from</span><span class="syntax2"> </span><span class="syntax2">some</span><span class="syntax2"> </span><span class="syntax2">function</span>
        
        <span class="syntax4">#</span><span class="syntax4"> </span><span class="syntax4">create</span><span class="syntax4"> </span><span class="syntax4">another</span><span class="syntax4"> </span><span class="syntax4">div</span>
        <span class="syntax10">$divright</span> <span class="syntax18">=</span> <span class="syntax11">$div</span><span class="syntax6">-&gt;h</span><span class="syntax18">(</span><span class="syntax13">'</span><span class="syntax13">div</span><span class="syntax13">'</span><span class="syntax18">)</span><span class="syntax18">;</span>
        <span class="syntax11">$divright</span><span class="syntax11">-&gt;hp</span><span class="syntax18">[</span><span class="syntax13">'</span><span class="syntax13">style</span><span class="syntax13">'</span><span class="syntax18">]</span> <span class="syntax18">=</span> <span class="syntax13">'</span><span class="syntax13">float:</span><span class="syntax13"> </span><span class="syntax13">right</span><span class="syntax13">'</span><span class="syntax18">;</span>
        <span class="syntax11">$divright</span><span class="syntax6">-&gt;sethtml</span><span class="syntax18">(</span> <span class="syntax6">foobar</span><span class="syntax18">(</span><span class="syntax18">)</span> <span class="syntax18">)</span><span class="syntax18">;</span>  <span class="syntax2">//</span><span class="syntax2"> </span><span class="syntax2">get</span><span class="syntax2"> </span><span class="syntax2">HTML</span><span class="syntax2"> </span><span class="syntax2">from</span><span class="syntax2"> </span><span class="syntax2">a</span><span class="syntax2"> </span><span class="syntax2">function</span>
        <span class="syntax4">#</span><span class="syntax4">...and</span><span class="syntax4"> </span><span class="syntax4">so</span><span class="syntax4"> </span><span class="syntax4">on.</span>
    <span class="syntax18">}</span>
<span class="syntax18">}</span>
<span class="syntax17">?&gt;</span>
</span></pre>

<span class="alert">When you make code assignments to events
   like onclick or onmouseover, you may not use double-quotes inside
   of the value.  If you need to have quoted values inside, as in
   the example above "alert('you clicked me!')" then use single
   quotes inside of the string, and enclose it with double quotes.
</span>

<h2>Sending Signals to jQuery</h2>

<p>jQuery has the very handy ability to not only find nodes that
   have attributes of a certain value, but to find objects that
   have that attribute at all.  This can be very useful if you
   want to generate HTML that contains attributes meant to be
   interpreted by browser-side code.
</p>

<pre><span class="syntax0"><span class="syntax17">&lt;?php</span>
<span class="syntax8">class</span><span class="syntax8"> </span><span class="syntax11">x6report</span><span class="syntax11"> </span><span class="syntax8">extends</span><span class="syntax11"> </span><span class="syntax11">androX6</span><span class="syntax11"> </span><span class="syntax18">{</span>
    <span class="syntax8">function</span> <span class="syntax6">x6main</span><span class="syntax18">(</span><span class="syntax18">)</span> <span class="syntax18">{</span>
        <span class="syntax10">$top</span> <span class="syntax18">=</span> <span class="syntax17">html</span><span class="syntax18">(</span><span class="syntax13">'</span><span class="syntax13">div</span><span class="syntax13">'</span><span class="syntax18">)</span><span class="syntax18">;</span>
        
        <span class="syntax10">$div</span> <span class="syntax18">=</span> <span class="syntax11">$top</span><span class="syntax6">-&gt;h</span><span class="syntax18">(</span><span class="syntax13">'</span><span class="syntax13">div</span><span class="syntax13">'</span><span class="syntax18">,</span><span class="syntax13">'</span><span class="syntax13">An</span><span class="syntax13"> </span><span class="syntax13">apparently</span><span class="syntax13"> </span><span class="syntax13">innocent</span><span class="syntax13"> </span><span class="syntax13">div</span><span class="syntax13">'</span><span class="syntax18">)</span><span class="syntax18">;</span>
        <span class="syntax11">$div</span><span class="syntax11">-&gt;hp</span><span class="syntax18">[</span><span class="syntax13">'</span><span class="syntax13">CustomAttribute</span><span class="syntax13">'</span><span class="syntax18">]</span> <span class="syntax18">=</span> <span class="syntax5">5</span><span class="syntax18">;</span>
        
        <span class="syntax10">$div</span> <span class="syntax18">=</span> <span class="syntax11">$top</span><span class="syntax6">-&gt;h</span><span class="syntax18">(</span><span class="syntax13">'</span><span class="syntax13">div</span><span class="syntax13">'</span><span class="syntax18">,</span><span class="syntax13">'</span><span class="syntax13">Another</span><span class="syntax13"> </span><span class="syntax13">apparently</span><span class="syntax13"> </span><span class="syntax13">innocent</span><span class="syntax13"> </span><span class="syntax13">div</span><span class="syntax13">'</span><span class="syntax18">)</span><span class="syntax18">;</span>
        <span class="syntax11">$div</span><span class="syntax11">-&gt;hp</span><span class="syntax18">[</span><span class="syntax13">'</span><span class="syntax13">CustomAttribute</span><span class="syntax13">'</span><span class="syntax18">]</span> <span class="syntax18">=</span> <span class="syntax5">6</span><span class="syntax18">;</span>

        <span class="syntax2">//</span><span class="syntax2"> </span><span class="syntax2">this</span><span class="syntax2"> </span><span class="syntax2">one</span><span class="syntax2"> </span><span class="syntax2">does</span><span class="syntax2"> </span><span class="syntax2">not</span><span class="syntax2"> </span><span class="syntax2">have</span><span class="syntax2"> </span><span class="syntax2">the</span><span class="syntax2"> </span><span class="syntax2">custom</span><span class="syntax2"> </span><span class="syntax2">attribute</span>
        <span class="syntax10">$div</span> <span class="syntax18">=</span> <span class="syntax11">$top</span><span class="syntax6">-&gt;h</span><span class="syntax18">(</span><span class="syntax13">'</span><span class="syntax13">div</span><span class="syntax13">'</span><span class="syntax18">,</span><span class="syntax13">'</span><span class="syntax13">Third</span><span class="syntax13"> </span><span class="syntax13">apparently</span><span class="syntax13"> </span><span class="syntax13">innocent</span><span class="syntax13"> </span><span class="syntax13">div</span><span class="syntax13">'</span><span class="syntax18">)</span><span class="syntax18">;</span>
        
        <span class="syntax11">$top</span><span class="syntax6">-&gt;render</span><span class="syntax18">(</span><span class="syntax18">)</span><span class="syntax18">;</span>
    <span class="syntax18">}</span>
<span class="syntax18">}</span>
<span class="syntax17">?&gt;</span>
</span></pre>

<p>You might now provide some javascript routine that can find
   nodes that have any value of "CustomAttribute" or find nodes
   that have a specific value.
</p>

<pre><span class="syntax0"><span class="syntax17">&lt;script</span><span class="syntax17">&gt;</span>
<span class="syntax8">function</span><span class="syntax17"> </span><span class="syntax17">example</span><span class="syntax17"> </span><span class="syntax18">{</span>
<span class="syntax17"> </span><span class="syntax17"> </span><span class="syntax17"> </span><span class="syntax17"> </span><span class="syntax2">//</span><span class="syntax2"> </span><span class="syntax2">jQuery</span><span class="syntax2"> </span><span class="syntax2">selector</span><span class="syntax2"> </span><span class="syntax2">that</span><span class="syntax2"> </span><span class="syntax2">finds</span><span class="syntax2"> </span><span class="syntax2">a</span><span class="syntax2"> </span><span class="syntax2">specific</span><span class="syntax2"> </span><span class="syntax2">value</span>
<span class="syntax17"> </span><span class="syntax17"> </span><span class="syntax17"> </span><span class="syntax17"> </span><span class="syntax2">//</span><span class="syntax2"> </span><span class="syntax2">This</span><span class="syntax2"> </span><span class="syntax2">will</span><span class="syntax2"> </span><span class="syntax2">return</span><span class="syntax2"> </span><span class="syntax2">one</span><span class="syntax2"> </span><span class="syntax2">node</span><span class="syntax2"> </span><span class="syntax2">from</span><span class="syntax2"> </span><span class="syntax2">the</span><span class="syntax2"> </span><span class="syntax2">example</span><span class="syntax2"> </span><span class="syntax2">above</span>
<span class="syntax17"> </span><span class="syntax17"> </span><span class="syntax17"> </span><span class="syntax17"> </span><span class="syntax17">$</span><span class="syntax18">(</span><span class="syntax13">'</span><span class="syntax13">[</span><span class="syntax13">CustomAttribute</span><span class="syntax13">=</span><span class="syntax13">6</span><span class="syntax13">]</span><span class="syntax13">'</span><span class="syntax18">)</span><span class="syntax18">;</span>
<span class="syntax17"> </span><span class="syntax17"> </span><span class="syntax17"> </span><span class="syntax17"> </span>
<span class="syntax17"> </span><span class="syntax17"> </span><span class="syntax17"> </span><span class="syntax17"> </span><span class="syntax2">//</span><span class="syntax2"> </span><span class="syntax2">Another</span><span class="syntax2"> </span><span class="syntax2">jQuery</span><span class="syntax2"> </span><span class="syntax2">that</span><span class="syntax2"> </span><span class="syntax2">finds</span><span class="syntax2"> </span><span class="syntax2">all</span><span class="syntax2"> </span><span class="syntax2">nodes</span><span class="syntax2"> </span><span class="syntax2">that</span><span class="syntax2"> </span><span class="syntax2">have</span>
<span class="syntax17"> </span><span class="syntax17"> </span><span class="syntax17"> </span><span class="syntax17"> </span><span class="syntax2">//</span><span class="syntax2"> </span><span class="syntax2">any</span><span class="syntax2"> </span><span class="syntax2">value</span><span class="syntax2"> </span><span class="syntax2">of</span><span class="syntax2"> </span><span class="syntax2">customattribute.</span><span class="syntax2"> </span><span class="syntax2"> </span><span class="syntax2">This</span><span class="syntax2"> </span><span class="syntax2">will</span><span class="syntax2"> </span><span class="syntax2">return</span>
<span class="syntax17"> </span><span class="syntax17"> </span><span class="syntax17"> </span><span class="syntax17"> </span><span class="syntax2">//</span><span class="syntax2"> </span><span class="syntax2">two</span><span class="syntax2"> </span><span class="syntax2">nodes</span><span class="syntax2"> </span><span class="syntax2">from</span><span class="syntax2"> </span><span class="syntax2">the</span><span class="syntax2"> </span><span class="syntax2">example</span><span class="syntax2"> </span><span class="syntax2">above.</span>
<span class="syntax17"> </span><span class="syntax17"> </span><span class="syntax17"> </span><span class="syntax17"> </span><span class="syntax17">$</span><span class="syntax18">(</span><span class="syntax13">'</span><span class="syntax13">[</span><span class="syntax13">CustomAttribute</span><span class="syntax13">'</span><span class="syntax18">]</span><span class="syntax18">)</span><span class="syntax18">;</span>
<span class="syntax17"> </span><span class="syntax17"> </span><span class="syntax17"> </span><span class="syntax17"> </span>
<span class="syntax18">}</span>
<span class="syntax17">&lt;/script&gt;</span>
</span></pre>

<h2>Further Reading</h2>

<p>For more information, see the reference on the androHTML class.</p>

