            <h1>Summing an Order</h1>
                            
                            <P CLASS="Textbody">As long as we have been working on the line items for an order, it would make sense to sum the order amounts up to the order, where we can calculate tax, freight and so forth.</P><P CLASS="Textbody">Assuming that the ORDER_LINES table has a column PRICE_EXT, as in the previous example, we can sum that up to the orders table pretty easily:</P><P CLASS="Textbody"><pre class="ddyaml"><span class="syntax0"><span class="syntax10">table</span><span class="syntax10"> </span><span class="syntax10">orders:</span>
<span class="syntax13"> </span><span class="syntax13"> </span><span class="syntax13"> </span><span class="syntax8"> </span><span class="syntax8">module:</span><span class="syntax13"> </span><span class="syntax13">sales</span>
<span class="syntax13"> </span><span class="syntax13"> </span><span class="syntax13"> </span><span class="syntax8"> </span><span class="syntax8">description:</span><span class="syntax13"> </span><span class="syntax13">Sales</span><span class="syntax13"> </span><span class="syntax13">Orders</span>
<span class="syntax13"> </span><span class="syntax13"> </span><span class="syntax13"> </span><span class="syntax13"> </span>
<span class="syntax13"> </span><span class="syntax13"> </span><span class="syntax13"> </span><span class="syntax9"> </span><span class="syntax9">column</span><span class="syntax9"> </span><span class="syntax9">price_lines:</span>
<span class="syntax13"> </span><span class="syntax13"> </span><span class="syntax13"> </span><span class="syntax13"> </span><span class="syntax13"> </span><span class="syntax13"> </span><span class="syntax13"> </span><span class="syntax8"> </span><span class="syntax8">suffix:</span><span class="syntax13"> </span><span class="syntax13">_lines</span>
<span class="syntax13"> </span><span class="syntax13"> </span><span class="syntax13"> </span><span class="syntax13"> </span><span class="syntax13"> </span><span class="syntax13"> </span><span class="syntax13"> </span><span class="syntax8"> </span><span class="syntax8">automation_id:</span><span class="syntax13"> </span><span class="syntax13">SUM</span>
<span class="syntax13"> </span><span class="syntax13"> </span><span class="syntax13"> </span><span class="syntax13"> </span><span class="syntax13"> </span><span class="syntax13"> </span><span class="syntax13"> </span><span class="syntax8"> </span><span class="syntax8">auto_formula:</span><span class="syntax13"> </span><span class="syntax13">order_lines</span><span class="syntax13">.</span><span class="syntax13">price_ext</span><span class="syntax13"> </span>
</span></pre>
</P><P CLASS="Textbody">At this point it is worth repeating that the above automation only works because the ORDER_LINES table is a child table of the ORDERS table. That is, the order lines table has a foreign_key to the ORDERS table. Without the foreign key the whole concept of a SUM would be meaningless.</P><P CLASS="Textbody">Other automations in this category include MIN, MAX, COUNT and LATEST. </P><P CLASS="Textbody"></P>            
 
                                        
                            