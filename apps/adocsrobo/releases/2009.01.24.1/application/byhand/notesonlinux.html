            <h1>Running on Linux</h1>
                            
                            <h1>Current Status</h1>
<p>Andromeda's reference code is always developed on Linux.  At Secure Data Software we use Ubuntu workstations and gentoo servers.
</p>
<h1>Installing Ubuntu Packages</h1>
<p>Install the following packages, with any dependencies.
</p>
<ul><li> php5
<li> php5-pgsql
<li> php5-curl
<li> php5-pear
<li> postgresql-8.1 (or later version)
<li> pgadmin3 (recommended but not required)
<li> perl
</ul>
<h1>Installing Gentoo Packages</h1>
<p>On gentoo you need the USE flags "curl" and "postgres" set when you compile PHP.  Otherwise you are installing the packages php, pear_pear, perl and postgres.
</p>
<h1>Configuration</h1>
<p>Once the packages are installed, make these configuration changes.
</p>
<h3>Firefox's Brain-damaged Hotkey Setting</h3>
<p><b>Firefox Step 1 of 1</b>
</p>
<p>Type "about:config" into the address bar, and then in the "filter" box type "ui.key".  Look for "ui.key.contentAccess" and change it from 5 to 4, which sets it back to ALT.
</p>
<h3>PHP</h3>
<p><b>PHP Step 1 of 3</b>
</p>
<p>There are a few php.ini settings that should be changed:
</p>
<ul><li> max_execution_time must be expanded.  Building a database will often exceed 30 seconds, and can run as much as 3-4 minutes.
<li> make sure the line "short_open_tag=on" says "on" and is not commented.
<li> memory_limit must be expanded beyond 8M, otherwise a database build will simply stop with a maddening lack of any kind of error or notice.
<li> Make sure the line "short_open_tag=on" says "on" and is not commented.
</ul>
<p><b>PHP Step 2 of 3</b>
</p>
<p>Use command-line PEAR to install Net_SMTP and any dependencies.
</p>
<p><b>PHP Step 3 of 3</b>
</p>
<p>Use command-line PEAR to install Archive_Tar, along with any dependencies.
</p>
<h3>Apache</h3>
<p><b>Apache Step 1 of 1</b>
</p>
<p>Apache mod_rewrite must be on to make use of friendly URLs.
</p>
<h3>Postgres</h3>
<p><b>Postgres Step 1 of 4</b>
</p>
<p>Your pg_hba.conf file should look like the file below.
It is important to keep the lines in the same order.
</p>
<pre class="box-config">#  DEV SERVER ONLY, do not put this line in on a
#  production server.
local  all         postgres        ident andromeda

# Users in pg group "root" can connect to anything
local   all         +root          password

# Members of the anonymous role can login
local   samename    all           password
local  samegroup   all            password
</pre>
<p><b>Postgres Step 2 of 4</b>
</p>
<p>Add these lines to pg_ident.conf.  This allows linux users
root and postgres to connect to the postgres server.
</p>
<pre class="box-config"># pg_ident.conf: Andromeda version
# --------------------------------------------------
# These two lines allow the Unix root user and the 
# postgres user to connect in w/o password.
#
# --------------------------------------------------
# MAPNAME     IDENT-USERNAME    PG-USERNAME
andromeda     postgres          postgres
andromeda     root              postgres
</pre>
<p><b>Postgres Step 3 of 4</b>
</p>
<p>Make the following changes to postgresql.conf to make sure that it is listening on TCP/IP.  Each of the lines
below should already be in the config file, make sure
they are uncommented and set as shown:
</p>
<pre class="box-config">listen_addresses='localhost'
port = 5432
max_connections = 100
</pre>
<p>After changing these 3 files you will need to restart the Postgres service.
</p>
<p><b>Postgres Step 4 of 4</b>
</p>
<p>Enter the following commands in a pgadmin3 command
window.  Do this by launching pgadmin3, making a connection to localhost, and then:
</p>
<pre class="box-config">create role root nologin;
create user USER_NAME superuser password 'PASSWORD';
grant root to USER_NAME;
create database andro;
</pre>
<h3>Run Andromeda Install</h3>
<p>You are now ready to download and install Andromeda.
</p>                                                    
                            
