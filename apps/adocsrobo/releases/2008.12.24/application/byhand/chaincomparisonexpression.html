<h1>Chain Comparison Expression</h1>
                            
<p>
A Chain Comparison Expression is used in the <span class="nolink">table.chain</span>, and
the [[table.column.chain]].  The <span class="nolink">table.chain</span> is used to conditionally
allow or prevent deletions and updates to tables.
The [[table.column.chain]] is used to create calculated
columns and to put constraints onto column values.
</p>

<p>
A Chain Comparison Expression is a column name, exactly
one space, an operator, exactly one space, and an optional column or
literal value to compare to.
</p>

<p>
Column names must be prefixed with an '@' symbol, anything else is
taken to be a literal value.
</p>

<p>
No quotes are required for string or date literal values.  Andromeda
knows the type of the column being compared to and will build the
appropriate SQL.
</p>

<p><b>
Chain syntax rules are not very flexible.  Columns and operators must
be separated by exactly one space, never two or more.  Also, the
builder cannot detect if you leave an @ sign off, it will not
make any friendly suggestions like, "hey that looks like a column name,
did you forget an @sign?"
</b></p>


<div id='example'><div id='extitle'>Example</div>
<div id='exampleinner'><div id='ex2title'>Structure of an expression</div>
<pre id='ex2inner'>compare: @column_id = Y
         |     |   ||||
         |     |   |||+--> a literal value
         |     |   ||+---> exactly one space
         |     |   |+----> the operator
         |     |   +-----> exactly one space
         |     +---------> a column name
         +---------------> the @sign must precede a column name</pre><div id='ex2title'>Various </div>
<pre id='ex2inner'>table table_id:
   column order_status:
      chain calc:
         test 00:
            compare: @flag_cancelled = Y 
            return: CANCELLED
         test 01:
            compare: @date_invoice ISNULL
            return: OPEN
         test 03:
            return: INVOICED</pre>
</div></div>

<p>
The operators available are:
</p>

<ul><li> EMPTY.  No second parameter.  Returns true if the first value is
type-appropriate empty, meaning 0 for numbers, empty string for all
character/text types, and null for dates and datetimes.

<li> !EMPTY.  Reverse of EMPTY.

<li> BETWEEN.  Three parameters, as in '@column_id BETWEEN x y'.  Notice
that the second and third parameters are listed one after the other
and separated by a space.

<li> !BETWEEN.  Reverse of BETWEEN

<li> NULL.  Value is null, as in '@column_id NULL'.

<li> !NULL.  Reverse of NULL

<li> IN.  Returns true if the first value is present in the second, where
the second is a comma-separated list of values, as in
'@column_id in a,b,c,d'.

<li> !IN.  Reverse of IN.

<li> >= greater than or equal to

<li> > greater than

<li> <= Less than or equal to

<li> < Less than

<li> = Equal

<li> <>Not Equal

</ul>

