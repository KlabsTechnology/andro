            <h1>httpHeadersForDownload</h1>
                            
                            <p>string Filespec (dir + file)<br/>boolean Send_As_Attachement (default false)<br/>char,bool<br/>*,true<br/><br/><br/>This function sends out headers that are appropriate for sending a
file as a download.  The routine does not necessarily support all
headers, to see which ones are supported, send a "*" as the first
parameter and the program will dump supported values out onto
the screen.
</p>
<p>By default the content is sent as in-line content.  If the second
parameter is true, a header will be sent indicating the file is being
sent as an attachment.
</p>
<p>When using this function, you need to have the [[flag_buffer]] property
of your class set to false, and this must be set in the [[custom_construct]]
method, as in the example below.
</p>


<div id='example'><div id='extitle'>Example</div>
<div id='exampleinner'><div id='ex2title'>PHP Code:</div>
<code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /></span><span style="color: #007700">class&nbsp;</span><span style="color: #0000BB">sendfile&nbsp;</span><span style="color: #007700">extends&nbsp;</span><span style="color: #0000BB">x_table2&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;function&nbsp;</span><span style="color: #0000BB">custom_construct</span><span style="color: #007700">()&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">flag_buffer</span><span style="color: #007700">=</span><span style="color: #0000BB">false</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;}<br />&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;function&nbsp;</span><span style="color: #0000BB">main</span><span style="color: #007700">()&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$filename</span><span style="color: #007700">=</span><span style="color: #DD0000">'/path/to/myfile.mp3'</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">httpHeadersForDownload</span><span style="color: #007700">(</span><span style="color: #0000BB">$filename</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">readfile</span><span style="color: #007700">(</span><span style="color: #0000BB">$filename</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;exit;&nbsp;</span><span style="color: #FF8000">//&nbsp;Exit&nbsp;is&nbsp;required&nbsp;to&nbsp;avoid&nbsp;extraneous&nbsp;output<br />&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">}<br />}<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code>
</div></div>
<p>You can add new extensions by declaring an array [[httpMimeTypes]] at
the top of your [[applib.php]] file.
</p>


<div id='example'><div id='extitle'>Adding your own types</div>
<div id='exampleinner'><div id='ex2title'>PHP Code:</div>
<code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /></span><span style="color: #FF8000">//&nbsp;file:&nbsp;applib.php<br /></span><span style="color: #0000BB">$httpMimeTypes</span><span style="color: #007700">=array(<br />&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'xyz'</span><span style="color: #007700">=&gt;</span><span style="color: #DD0000">'application/xyz-handler'<br /></span><span style="color: #007700">);<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code>
</div></div>
<p> 
</p>                                                    
                            